# API Setup Guide

This guide explains how to obtain and configure API keys for Monomori's auto-fill features.

## Overview

Monomori integrates with three external APIs to automatically fill in metadata when adding items to your collection:

- **Google Books API** - For book information (title, author, ISBN, cover image, etc.)
- **TMDB API** - For movie and TV show information
- **Discogs API** - For music/vinyl information

All APIs are **free** and **optional**. The app will work without them, but you'll need to manually enter all item details.

---

## 1. Google Books API

### What it does
Automatically fills in book details when you search by title, author, or scan an ISBN barcode.

### How to get your API key

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Sign in with your Google account
3. Create a new project (or select an existing one)
4. Navigate to **APIs & Services > Credentials**
5. Click **+ CREATE CREDENTIALS** > **API key**
6. Your API key will be generated
7. (Optional but recommended) Click **Edit API key** and restrict it to only the "Books API"
8. Go to **APIs & Services > Library**
9. Search for "Books API" and click **Enable**

### Add to local.properties
```properties
GOOGLE_BOOKS_API_KEY=AIzaSyAbc123...YourKeyHere
```

### Official Documentation
- [Google Books API Documentation](https://developers.google.com/books/docs/v1/getting_started)

---

## 2. TMDB API (The Movie Database)

### What it does
Automatically fills in movie and TV show details including cast, director, release date, poster images, and descriptions.

### How to get your API key

1. Go to [TMDB Website](https://www.themoviedb.org/)
2. Create a free account (or sign in)
3. Go to [Account Settings > API](https://www.themoviedb.org/settings/api)
4. Click **Request an API Key**
5. Choose **Developer** (unless you're building a commercial product)
6. Fill in the application form:
   - Application Name: "Monomori Personal Use"
   - Application URL: Can use GitHub repo or "N/A"
   - Application Summary: "Personal collection tracking app"
7. Accept the terms and submit
8. Your API key will be displayed immediately

### Add to local.properties
```properties
TMDB_API_KEY=abc123def456...YourKeyHere
```

### Official Documentation
- [TMDB API Documentation](https://developers.themoviedb.org/3/getting-started/introduction)

---

## 3. Discogs API

### What it does
Automatically fills in music/vinyl details including artist, album, year, genre, tracklist, and cover art.

### How to get your API credentials

1. Go to [Discogs Website](https://www.discogs.com/)
2. Create a free account (or sign in)
3. Go to [Settings > Developers](https://www.discogs.com/settings/developers)
4. Click **Create an Application**
5. Fill in the application form:
   - Application Name: "Monomori Personal"
   - Application Description: "Personal collection tracking"
   - Application Website: Can use GitHub repo or leave blank
6. Submit the application
7. You'll receive:
   - **Consumer Key** (this is your DISCOGS_API_KEY)
   - **Consumer Secret** (this is your DISCOGS_API_SECRET)

### Add to local.properties
```properties
DISCOGS_API_KEY=YourConsumerKey
DISCOGS_API_SECRET=YourConsumerSecret
```

### Official Documentation
- [Discogs API Documentation](https://www.discogs.com/developers)

---

## Configuration

### Step 1: Create local.properties

In the project root directory (same level as `settings.gradle.kts`), create a file named `local.properties`:

```bash
cp local.properties.example local.properties
```

Or manually create the file with this content:

```properties
# Android SDK (auto-generated by Android Studio)
sdk.dir=/path/to/Android/Sdk

# API Keys
GOOGLE_BOOKS_API_KEY=your_google_books_key_here
TMDB_API_KEY=your_tmdb_key_here
DISCOGS_API_KEY=your_discogs_consumer_key_here
DISCOGS_API_SECRET=your_discogs_consumer_secret_here
```

### Step 2: Add your API keys

Replace the placeholder values with your actual API keys.

**Important:** 
- Do NOT add quotes around the values
- Leave the value empty if you don't want to use that API
- The `local.properties` file is in `.gitignore` and will never be committed

### Step 3: Rebuild the project

After adding your keys:

1. In Android Studio: **Build > Clean Project**
2. Then: **Build > Rebuild Project**

Or from command line:
```bash
./gradlew clean build
```

---

## Usage Limits

All three APIs have generous free tiers:

### Google Books API
- **1,000 requests per day** (default)
- Can request increases if needed
- Completely free

### TMDB API
- **Unlimited requests** for non-commercial use
- Rate limit: 40 requests per 10 seconds
- Completely free

### Discogs API
- **60 requests per minute** with authentication
- Completely free
- No daily limits

For typical personal use, you'll never hit these limits.

---

## Security Notes

- **Never commit** your `local.properties` file to version control
- **Never share** your API keys publicly
- If you accidentally expose a key:
  - Google Books: Regenerate in Cloud Console
  - TMDB: Delete and create new key in account settings
  - Discogs: Regenerate keys in developer settings

---

## Troubleshooting

### "API key not found" error
- Make sure `local.properties` is in the project root (same level as `settings.gradle.kts`)
- Check for typos in the property names
- Rebuild the project after adding keys

### "Invalid API key" error
- Verify the key is correct (copy-paste from the source)
- For Google Books: Make sure the Books API is enabled
- For TMDB: Wait a few minutes after key creation (can take time to activate)

### Auto-fill not working
- Check your internet connection
- Verify the API keys are properly configured
- Check Android Studio's Build tab for configuration errors

---

## Optional: CI/CD Configuration

If you're using CI/CD, you can set these as environment variables or secrets:

### GitHub Actions Example
```yaml
env:
  GOOGLE_BOOKS_API_KEY: ${{ secrets.GOOGLE_BOOKS_API_KEY }}
  TMDB_API_KEY: ${{ secrets.TMDB_API_KEY }}
  DISCOGS_API_KEY: ${{ secrets.DISCOGS_API_KEY }}
  DISCOGS_API_SECRET: ${{ secrets.DISCOGS_API_SECRET }}
```

The build script will use empty strings if keys aren't found, allowing builds to succeed without API access.

---

## Questions?

If you have issues setting up the APIs, please:
1. Check the official documentation linked above
2. Open an issue on GitHub with details about the problem
3. Make sure you're using the latest version of Monomori

Happy collecting! ðŸ“šðŸŽ¬ðŸŽµ
